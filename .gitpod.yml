tasks:

  - name: terraform_installation & setup
    before: |
      source ./bin/install_terraform.sh
      source ./bin/set_terraform_cloud_token.sh
      source ./bin/set_tf_alias.sh

  - name: azure-cli
    command: |
      sleep 15
      curl -sL https://aka.ms/InstallAzureCLIDeb | sudo bash
      source ./bin/set_tf_alias.sh
      az login --service-principal -u $GITPOD_CLIENT_ID -p $GITPOD_CLIENT_SECRET --tenant $GITPOD_TENANT_ID
 
      
vscode:
  extensions:
    - hashicorp.terraform
